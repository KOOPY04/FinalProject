syntax = "proto3";
package filetransfer;
// CHUNK_SIZE = 1024 * 64

//Client請求下載檔案時，傳送檔案名稱
message FileRequest {
  string filename = 1;
}
// File傳輸時，每次傳送的檔案片段
message FileChunk {
    bytes content = 1;
    string filename = 2;
}
// File傳輸結果
message UploadStatus {
    bool success = 1;
    string message = 2;
}
// FileTransfer服務
service FileTransfer {
    rpc UploadFile(stream FileChunk) returns (UploadStatus);
    rpc DownloadFile(FileRequest) returns (stream FileChunk);
}